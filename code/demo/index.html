<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <h2>示例</h2>
    <div>
        <input id="j-in" type="text" autofocus><br>
        <p id="j-p"></p>
    </div>

    <script src="./../../dist/pinyin-so.min.js"></script>
    <script>
        var $ = (x) => {
            return document.querySelector(x);
        };
        var oriStr = `曾经沧海难为水，除却巫山不是云。取次花丛懒回顾，半缘修道半缘君。`;

        var renderStr = (str, x, y) => {
            const _r = `<span style="color: red;">${str.substring(x, y + 1)}</span>`;
            return `${str.substr(0, x)}${_r}${str.substr(y + 1)}`;
        };

        var xF = () => {
            let x = '';
            const p = PinyinSo.so(oriStr, $('#j-in').value);
            if (p) {
                const [start, end] = p;
                x = renderStr(oriStr, start, end);
            }
            $('#j-p').innerHTML = x || oriStr;
        };

        $('#j-p').innerHTML = oriStr;

        $('#j-in').addEventListener('input', xF, false);
    </script>
</body>

</html>